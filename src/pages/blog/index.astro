---
import Gallery from '@components/ui/gallery.astro';
import Heading from '@components/ui/heading.astro';
import { getCollection } from 'astro:content';
import Layout from 'src/layouts/Layout.astro';
import EmptyState from './components/emptyState.astro';
import BlogCard from './components/blogCard.astro';
import BlogLayout from 'src/layouts/BlogLayout.astro';

const posts = await getCollection('blog');
---

<Layout title="Blog">
  <BlogLayout>
    <div>
      <section class="bg-neutral02 py-xxl px-l grid gap-s">
        <Heading
          as="h1"
          variant="h2"
          class="text-h2 font-bold leading-h2 text-center"
        >
          Blog
        </Heading>
        <p class="leading-body text-center">
          Artículos sobre psicología, bienestar emocional y desarrollo personal
        </p>
      </section>
      <section
        class="px-l py-xl desktop:px-xxxl desktop:py-xxl flex justify-center"
      >
        {
          posts.length > 0 ? (
            <div class="desktop:max-w-[1200px] w-full">
              <Gallery>
                {posts.map((post: any) => (
                  <li>
                    <a href={`/blog/${post.id}`}>
                      <BlogCard
                        id={post.id}
                        title={post.data.title}
                        date={post.data.date}
                        summary={post.data.summary}
                        thumbnail={post.data.thumbnail}
                      />
<<<<<<< HEAD
                    </a>
                  </li>
                ))}
              </Gallery>
            </div>
          ) : (
            <EmptyState />
          )
        }
      </section>
=======
                    )}
                    <div class="p-l">
                      <Heading as="h2" variant="h3">
                        {post.data.title}
                      </Heading>
                     
                    </div>
                  </article>
                </a>
              </li>
            ))}
          </ul>
        ) : (
          <div class="text-center py-xxl">
            <Heading as="h2" variant="h3" class="mb-4">
              No hay artículos disponibles
            </Heading>
            <p class="text-neutral07">
              Pronto publicaremos nuevo contenido. ¡Vuelve más tarde!
            </p>
          </div>
        )
      }
>>>>>>> 1e142ae (Create blog section with gallery, empty state and 404)
    </div>
  </BlogLayout>
</Layout>
